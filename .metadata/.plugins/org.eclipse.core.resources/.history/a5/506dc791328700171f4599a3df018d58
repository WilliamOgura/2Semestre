<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="_template.xhtml">
	<ui:define name="conteudo">
		<p:panel header="Cadastro de Aluno" toggleable="true">
			<h:form>
				<div>
					<p:messages></p:messages>
					<p:growl></p:growl>
				</div>
				<h:panelGrid columns="2">


					<p:outputLabel for="rm" value="RM "></p:outputLabel>
					<p:inputText id="rm" value="#{alunoBean.aluno.rm}">
					</p:inputText>

					<p:outputLabel for="nome" value="Nome "></p:outputLabel>
					<p:inputText id="nome" value="#{alunoBean.aluno.nome}">
					</p:inputText>

					<p:outputLabel for="email" value="E-mail "></p:outputLabel>
					<p:inputText id="email" value="#{alunoBean.aluno.email}">
					</p:inputText>

					<p:outputLabel for="dataNascimento" value="Data de Nascimento ">
					</p:outputLabel>
					<p:calendar pattern="dd/MM/yyyy"
						value="#{alunoBean.aluno.dataNascimento.time}" id="dataNascimento"></p:calendar>

					<p:outputLabel for="cpf" value="CPF "></p:outputLabel>
					<p:inputMask mask="999.999.999-99" id="cpf"
						value="#{alunoBean.aluno.cpf}" />

					<p:outputLabel value="Rating" for="rat"></p:outputLabel>
					<p:rating value="#{alunoBean.aluno.rating}" id="rat" stars="10" />
					
					<p:graphicImage value="#{alunoBean.imagem}" id="foto" cache="false"/>
					<p:fileUpload
						update="foto"
						fileUploadListener="#alunoBean.uploadFile"
						sizeLimit="5000000"
						allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
						auto="false"
						dragDropSupport="false"
						
					/>

					
					<p:commandButton value="Salvar" action="#{alunoBean.cadastrar()}"
					rendered="#{alunoBean.aluno.rm == 0}"
					></p:commandButton>

					<p:commandButton value="Alterar"
						rendered="#{alunoBean.aluno.rm != 0}"
					 action="#{alunoBean.alterar()}"></p:commandButton>
				</h:panelGrid>
			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>
</html>